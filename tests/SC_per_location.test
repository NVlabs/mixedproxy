.global x;
.global f1;
.global f2;

d0.b0.t0 {
  st.release.sys [x], 1;
  st.release.sys [f1], 1;
}

d0.b1.t0 {
  st.release.gpu [x], 2;
  ld.acquire.sys r0, [x];
  st.release.sys [f2], 1;
}
d0.b2.t0 {
  ld.acquire.sys r1, [f2];
  ld.acquire.sys r2, [f2];
  ld.acquire.sys r3, [x];
}

assert (r0 != 0 || r1 != 1 || r2 != 1 || r3 != 2) as my_test;